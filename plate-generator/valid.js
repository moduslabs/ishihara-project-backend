const result = { "IsTruncated": false, "Marker": "", "Contents": [{ "Key": "0.png", "LastModified": "2022-03-04T20:38:00.000Z", "ETag": "\"00f1d130650cc37e0a041055561be3e1\"", "Size": 140813, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "04.png", "LastModified": "2022-03-04T20:30:59.000Z", "ETag": "\"cb39548921f725a6c4c0c81b129dcf0b\"", "Size": 140852, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "08.png", "LastModified": "2022-03-04T20:24:01.000Z", "ETag": "\"2a69cdc244318b419e59e54f2bdc6013\"", "Size": 144594, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "2.png", "LastModified": "2022-03-04T20:51:00.000Z", "ETag": "\"3c0646f7deb398c768dc1daf053868a5\"", "Size": 134909, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "28.png", "LastModified": "2022-03-04T21:06:05.000Z", "ETag": "\"66316a2d399906f1cbf8cb6bb66a0125\"", "Size": 145969, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "3A.png", "LastModified": "2022-03-04T20:33:03.000Z", "ETag": "\"2994d3b1294f1ca25e6debea83c3acc5\"", "Size": 143259, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "3C.png", "LastModified": "2022-03-04T20:43:56.000Z", "ETag": "\"6ec648b9864c89b2acfffc5f4370b944\"", "Size": 145034, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "3J.png", "LastModified": "2022-03-04T20:44:58.000Z", "ETag": "\"9984299c6e7647bfc4e8ddbbddfd5e73\"", "Size": 137433, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "4.png", "LastModified": "2022-03-04T21:04:00.000Z", "ETag": "\"c283e7cf7d9ce1d5d7a9b4d7d73804dc\"", "Size": 151116, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "4V.png", "LastModified": "2022-03-04T20:32:00.000Z", "ETag": "\"ac14f6602a12aa7b0874917b9f399e6e\"", "Size": 142521, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "6.png", "LastModified": "2022-03-04T21:10:57.000Z", "ETag": "\"41de065f7b140ec54804d487405615c6\"", "Size": 142190, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "6D.png", "LastModified": "2022-03-04T20:14:01.000Z", "ETag": "\"2200ad3a8430c8f62e6bf580e1241cd5\"", "Size": 146428, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "6Z.png", "LastModified": "2022-03-04T20:43:05.000Z", "ETag": "\"f5106d9deb4087105831add7e247088b\"", "Size": 138590, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "7.png", "LastModified": "2022-03-04T21:05:00.000Z", "ETag": "\"bc846c7f76abd5c960c308c42d78377a\"", "Size": 151069, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "7W.png", "LastModified": "2022-03-04T20:16:02.000Z", "ETag": "\"d80b9da872f7440951cedaeb7120edb6\"", "Size": 138901, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "8.png", "LastModified": "2022-03-04T20:54:58.000Z", "ETag": "\"7b3459f8eb1d3cc829287936ab3e7a47\"", "Size": 137731, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "88.png", "LastModified": "2022-03-04T20:13:08.000Z", "ETag": "\"346b259870ace10640d58897430b7cb8\"", "Size": 140316, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "9.png", "LastModified": "2022-03-04T21:07:02.000Z", "ETag": "\"bf67cdcb1387d04ffb284ef27ffd4857\"", "Size": 141597, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "AX.png", "LastModified": "2022-03-04T20:45:58.000Z", "ETag": "\"4a5f43c4e9301edf93cd7779dd5e0550\"", "Size": 135218, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "B.png", "LastModified": "2022-03-04T21:02:59.000Z", "ETag": "\"1423460f2c565f1adb4f52ea1f199dea\"", "Size": 133900, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "BR.png", "LastModified": "2022-03-04T20:40:01.000Z", "ETag": "\"7681d29f9c39cb660edba7a5ac0c8703\"", "Size": 141876, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "CI.png", "LastModified": "2022-03-04T21:10:00.000Z", "ETag": "\"5edf0799062dfd6b0d174fdef49e6544\"", "Size": 148873, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "D.png", "LastModified": "2022-03-04T20:22:01.000Z", "ETag": "\"de2a71e193751834d174485e6c9b9571\"", "Size": 146775, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "E.png", "LastModified": "2022-03-04T20:54:01.000Z", "ETag": "\"9b38a9de1442c7d68d69e04dad89c068\"", "Size": 137503, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "F.png", "LastModified": "2022-03-04T20:34:00.000Z", "ETag": "\"e114929ace2ce48f05eb38ce54aac5b3\"", "Size": 139228, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "F4.png", "LastModified": "2022-03-04T21:09:00.000Z", "ETag": "\"d4899881a53420a3727ea0ae253c04ef\"", "Size": 144800, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "G.png", "LastModified": "2022-03-04T20:15:00.000Z", "ETag": "\"411bb7e9a0f18123318166269c5cd06e\"", "Size": 134012, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "GC.png", "LastModified": "2022-03-04T20:25:01.000Z", "ETag": "\"c42a21ec3910c705eb279e1f6ba7eb95\"", "Size": 140654, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "GF.png", "LastModified": "2022-03-04T20:11:05.000Z", "ETag": "\"2a7677eeb362e5ecc4f1ad1ddefd810b\"", "Size": 142426, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "I.png", "LastModified": "2022-03-04T20:57:01.000Z", "ETag": "\"c04830849307cd32dd6157c28591c6ce\"", "Size": 136731, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "I4.png", "LastModified": "2022-03-04T20:19:05.000Z", "ETag": "\"d5827de63fcc6748ce89118ddd52fe21\"", "Size": 137412, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "L.png", "LastModified": "2022-03-04T21:07:58.000Z", "ETag": "\"293fe2d53c988f2ca186ad528bb2a2eb\"", "Size": 137330, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "MF.png", "LastModified": "2022-03-04T20:42:02.000Z", "ETag": "\"3afc04e1f1f4d762a4473b247a0b256f\"", "Size": 135936, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "N.png", "LastModified": "2022-03-04T20:36:02.000Z", "ETag": "\"249b9b410806e422cc86d9d6587f670d\"", "Size": 138082, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "P.png", "LastModified": "2022-03-04T20:56:02.000Z", "ETag": "\"bb7072b57406c5e47eaeb0e744f752c3\"", "Size": 144437, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "QA.png", "LastModified": "2022-03-04T20:29:06.000Z", "ETag": "\"c663976e0701fb73771adef20a50577e\"", "Size": 141261, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "QM.png", "LastModified": "2022-03-04T20:47:59.000Z", "ETag": "\"29cbe2d898b72619c25da65175ef1de7\"", "Size": 143995, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "R.png", "LastModified": "2022-03-04T20:12:24.000Z", "ETag": "\"ce18c27b42f3f4ccdfea800769e7f836\"", "Size": 137057, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "S.png", "LastModified": "2022-03-04T20:57:59.000Z", "ETag": "\"85c07c97d17d4d6c1400399b23860b9d\"", "Size": 150828, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "T.png", "LastModified": "2022-03-04T20:52:56.000Z", "ETag": "\"0ea7feb6bbdec60b0e82fe883d74ec1b\"", "Size": 140224, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "U.png", "LastModified": "2022-03-04T20:40:50.000Z", "ETag": "\"e6da7ac6e3dec8a65eeb5f4c0f553d3c\"", "Size": 145677, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "UU.png", "LastModified": "2022-03-04T20:23:04.000Z", "ETag": "\"c7902e6cbb9f771d2be9b1f26c9128c9\"", "Size": 145368, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "V.png", "LastModified": "2022-03-04T20:38:59.000Z", "ETag": "\"0cb774f31b657c13d4229f96afc9e4f1\"", "Size": 141091, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "WN.png", "LastModified": "2022-03-04T21:00:01.000Z", "ETag": "\"4ee19a0406e7caa02ccfc86351891461\"", "Size": 147176, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "X.png", "LastModified": "2022-03-04T21:02:00.000Z", "ETag": "\"225308e65f2518da479536bfbc2c0897\"", "Size": 145127, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "XN.png", "LastModified": "2022-03-04T20:26:01.000Z", "ETag": "\"1777cf14074c954f2501d6451e38d996\"", "Size": 135702, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "YD.png", "LastModified": "2022-03-04T20:58:58.000Z", "ETag": "\"427e704c3e197765487dbf2351099466\"", "Size": 142408, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "Z.png", "LastModified": "2022-03-04T20:10:53.000Z", "ETag": "\"14eb4205fd08e73574ba622e87d50f1d\"", "Size": 135168, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }, { "Key": "ZZ.png", "LastModified": "2022-03-04T20:47:01.000Z", "ETag": "\"620c152c5b4b906975d3e7c64e01c4bc\"", "Size": 145456, "StorageClass": "STANDARD", "Owner": { "DisplayName": "it_support", "ID": "e9caa3b816d0b1cdc133c240ce7a71bb76e21c5e61084f6fae663bc2797143ea" } }], "Name": "ishiharatest", "Prefix": "", "MaxKeys": 1000, "CommonPrefixes": [] }

const DEFAULT_LIMIT = 10;
const { Contents: contents } = result;
console.log(contents)
const limit = contents.length > 10 ? 10 : contents.length;
const selected = [];
const alreadyChosen = []
console.log(limit)

for (let i = 0; i < limit; i++) {
    const number = Math.floor(Math.random() * limit);
    console.log(`number ${number}`)
    if (alreadyChosen.includes(number)) {
        i--;
        continue;
    }
    console.log(`Content ` + contents[number])
    const { Key:key } = contents[number]
    
    console.log('key ' + key.split(".")[0])

    selected.push({
        key: key.split(".")[0],
        url: `https://${BUCKET_NAME}.s3.amazonaws.com/${key}`
    });

    alreadyChosen.push(number);
}

console.log(selected.length)
console.log(result.Contents.length)
console.log(selected)